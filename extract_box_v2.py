import os

import cv2
import matplotlib.pyplot as plt
from scipy import ndimage


coordinate_list = [(82, 233), (161, 416),
                   (94, 245), (417, 670),
                   (106, 256), (671, 919),
                   (118, 266), (921, 1164),
                   (129, 274), (1165, 1407),
                   (139, 281), (1408, 1648),
                   (146, 288), (1649, 1889),
                   (154, 296), (1890, 2128),
                   (162, 304), (2128, 2364),
                   (265, 413), (157, 413),
                   (275, 424), (415, 667),
                   (286, 433), (668, 916),
                   (297, 441), (917, 1160),
                   (307, 449), (1161, 1403),
                   (315, 456), (1403, 1643),
                   (321, 463), (1644, 1884),
                   (328, 470), (1885, 2122),
                   (336, 477), (2123, 2359),
                   (445, 593), (154, 410),
                   (455, 601), (411, 664),
                   (465, 609), (665, 912),
                   (474, 617), (913, 1156),
                   (482, 624), (1157, 1398),
                   (490, 630), (1399, 1638),
                   (496, 637), (1639, 1878),
                   (503, 643), (1878, 2118),
                   (510, 650), (2118, 2355),
                   (626, 771), (150, 407),
                   (634, 778), (409, 660),
                   (643, 784), (661, 908),
                   (650, 791), (908, 1151),
                   (657, 797), (1152, 1393),
                   (664, 803), (1393, 1632),
                   (670, 809), (1633, 1872),
                   (677, 816), (1873, 2112),
                   (683, 822), (2113, 2351),
                   (806, 949), (146, 403),
                   (812, 954), (404, 656),
                   (819, 960), (656, 903),
                   (825, 965), (904, 1146),
                   (831, 970), (1147, 1388),
                   (838, 976), (1389, 1627),
                   (844, 982), (1628, 1868),
                   (850, 988), (1869, 2108),
                   (856, 994), (2109, 2345),
                   (986, 1128), (139, 398),
                   (991, 1132), (399, 651),
                   (995, 1136), (651, 898),
                   (1001, 1140), (899, 1142),
                   (1006, 1145), (1143, 1384),
                   (1012, 1150), (1384, 1623),
                   (1017, 1157), (1624, 1864),
                   (1023, 1162), (1865, 2104),
                   (1029, 1167), (2104, 2340),
                   (1167, 1307), (134, 392),
                   (1170, 1309), (392, 645),
                   (1173, 1311), (646, 894),
                   (1176, 1315), (894, 1137),
                   (1181, 1318), (1138, 1379),
                   (1185, 1324), (1380, 1619),
                   (1191, 1330), (1620, 1861),
                   (1197, 1336), (1862, 2099),
                   (1203, 1339), (2101, 2336),
                   (1347, 1488), (128, 385),
                   (1349, 1489), (385, 639),
                   (1350, 1489), (639, 888),
                   (1352, 1491), (889, 1132),
                   (1355, 1495), (1133, 1374),
                   (1359, 1499), (1375, 1615),
                   (1364, 1504), (1616, 1856),
                   (1370, 1509), (1857, 2095),
                   (1376, 1511), (2096, 2331)]


origin_folder = "./only_paper"
result_folder = "./test"

images = os.listdir(origin_folder)[:10]
n_coordinate = int(len(coordinate_list) / 2)

for image in images:
    image_path = os.path.join(origin_folder, image)
    img = cv2.imread(image_path)

    img = ndimage.rotate(img, -1)
    color = (255, 0, 0)
    thickness = 2

    for i in range(n_coordinate):
        y_value = coordinate_list[i*2]
        x_value = coordinate_list[i*2+1]

        start_point = (x_value[0], y_value[0])
        end_point = (x_value[1], y_value[1])

        img = cv2.rectangle(img, start_point, end_point,
                            color, thickness)

    plt.imshow(img)
    plt.show()
